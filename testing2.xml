<?xml version="1.0" encoding="UTF-8" standalone="yes"?>

<!------------EXYU----->
<item>
<title>EXALYU | TesT</title>


<link>$doregex[makelist2]</link>

<regex>
              <name>makelist2</name>
                        <listrepeat><![CDATA[
                        <title>[COLOR white]KANAL:[/COLOR] [makelist2.param1]</title>
                        <link>[makelist2.param2].m3u8</link>
              ]]></listrepeat>
              <expres>EXTINF:-1,TEST: (.*).*\n.*(http.*).ts</expres>
              <page>http://ipbestv.net16.net/testal.m3u</page>
              <!--<page>http://portal.rapidiptv.com:8080/get.php?username=oxEnXqQd&amp;password=ZkTOFeHlnm&amp;type=m3u&amp;output=mpegts</page>-->
              <cookieJar></cookieJar>
</regex>
</item>
<!-----------------------END--->


<item>
<title>TOP Channel Portokalli 2015 (YT)</title>
<link>$doregex[makelist]</link>
<regex>
<name>makelist</name>
<listrepeat><![CDATA[
    <title>BES-IPTV: [makelist.param2]</title>
    <link>plugin://plugin.video.youtube/play/?video_id=[makelist.param1]</link>
    <thumbnail>NA</thumbnail>
]]></listrepeat>
<expres>\s?.data-video-id="(.*?)".*data-title="(.*?)"</expres>
<page>https://www.youtube.com/playlist?list=PLM8BAxfZddjx4J5gzmtW8D-W1uD3-SjRC</page>
<referer>https://www.youtube.com/user/TopChannelAlbania/playlists</referer>
<cookieJar></cookieJar>
</regex>
</item>

<!-----------------END YOUTUBE---------------------------->

<!--------------------------------END------------------------------------->
<item>
<title>Cinestrenos.TV - Todos Los Canales | Espanol</title>
<link>$doregex[makelist]</link>
<regex>
<name>makelist</name>
<listrepeat><![CDATA[
<title>Kannal: - [makelist.param2]</title>
<sportsdevil>http://cinestrenostv.tv[makelist.param1]</sportsdevil>
<referer></referer>
<thumbnail>[makelist.param3]</thumbnail>
]]></listrepeat>
<expres>a href="(.*)".*title="(.*?)".*?src="(.*?)"</expres>
<page>http://cinestrenostv.tv/</page>
<referer></referer>
<cookieJar></cookieJar>
</regex>
</item>

<!-----------------------------------yooutube test---->
<item>
<title>Top Channel Albania</title>
<link>$doregex[makelist]</link>
<regex>
            <name>makelist</name>
            <listrepeat><![CDATA[
                        <title>[makelist.param2]</title>
                        <link>plugin://plugin.video.youtube/play/?playlist_id=[makelist.param1]&amp;order=default</link>
                        <thumbnail>https://pbs.twimg.com/profile_images/552092989485355008/5iuVo5m9.png</thumbnail>
            ]]></listrepeat>
            <expres>\s?.href="\/playlist\?list=(.*?)"&gt;(.*?)&lt;\/</expres>
            <page>https://www.youtube.com/user/TopChannelAlbania/playlists</page>
             <cookieJar></cookieJar>
</regex>
<thumbnail>https://pbs.twimg.com/profile_images/552092989485355008/5iuVo5m9.png</thumbnail>
</item>

<!------------------------------------zunox------------->
<item>
<title>Zunox Test</title> 
<link>$doregex[rtmp] swfUrl=http://static3.sawlive.tv/player.swf pageUrl=http://sawlive.tv live=1 timeout=15</link> 
<regex>
<name>rtmp</name>
<expres><![CDATA[#$pyFunction
def GetLSProData(page_data,Cookie_Jar,m,url='http://sawlive.tv/embed/zunoxhkhd1'):
	import requests
	import re
	referer = 'http://zunox.hk/'
	headers = {'Referer': referer}
	source = requests.get(url, headers=headers)
	embedpath1 = re.search(r'var.*?="(.*?)".*="(.*?)".*="(.*?)".*="(.*?)".*?"".*?""', source.text)
	embedpath2 = re.findall('var.*?=\'(.*?)\'', source.text)[0]
	embedurl= 'http://sawlive.tv/embed/watch/' + embedpath1.group(1) + embedpath1.group(2) + embedpath1.group(3) + embedpath1.group(4)+ '/' + embedpath2
	strsrc = requests.get(embedurl, headers=headers)
	streamer = re.findall('streamer\', \'(.*?)\'', strsrc.text)[0]
	playpath = re.findall('file\', \'(.*?)\'', strsrc.text)[0]
	rtmppath = streamer + ' playpath=' + playpath
	return rtmppath
]]></expres>
<page></page>
</regex>
<thumbnail></thumbnail>
</item>



<!--------------------------DLSTV REGEX TEST----------------------------->
  <item>
                <title>Sky Sports Test</title>
                <link>$doregex[select_url]</link>
                <regex>
                <name>select_url</name>
                <expres>$pyFunction: '$doregex[url1]' if not '$doregex[url1]'=='' else '$doregex[rtmpip]43?TbRWY token=$doregex[token] swfUrl=http://www.castup.tv/player/plr.swf pageUrl=http://www.castup.tv live=1 timeout=15' </expres>
                <page></page>
                </regex>
                <regex>
                <name>url1</name>
                <expres>file: "(.*?)"</expres>
                <page>ttp://biggestplayer.me/streamcrjeje2.php?id=$doregex[get-id]</page>
                <referer>http://theactionlive.com/</referer>
                </regex>
                <regex>
                <name>get-id</name>
                <expres>id='(.*?)'</expres>
                <page>http://theactionlive.com/livegamecr2.php?id=sky4n&width=640&height=460&stretching=</page>
                <referer>http://cricfree.sx/update/skys4.php
                </referer>
                <agent>Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_1) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/47.0.2526.80 Safari/537.36</agent>
                </regex>
                <regex>
                <name>rtmpip</name><expres>rtmp":"(.*?)"</expres>
                <page>$doregex[streamer]</page>
                <referer>http://www.castup.tv</referer>
                </regex><regex>
                <name>streamer</name>
                <expres>getJSON."(.*?)"</expres>
                <page>http://www.castup.tv/player.php?channel=43?TbRWY&vw=860&vh=500</page>
                <referer>http://www.freelivesport.eu</referer>
                </regex>
                <regex>
                <name>token</name>
                <expres>token', '(.*?)'</expres>
                <page>http://www.castup.tv/player.php?channel=43?TbRWY&vw=860&vh=500</page>
                <referer>http://www.freelivesport.eu</referer>
                </regex>
                <thumbnail></thumbnail>
            </item>
<!------------------------M5 REGEX----------------------------------------END-->
<item>
<title>[COLOR yellow] All Channels | www.zoptv.com[/COLOR]</title>
<link>$doregex[makelist]</link>
<regex>
      <name>makelist</name>
      <listrepeat><![CDATA[
               <title>[COLOR blue] [makelist.param1][/COLOR]</title>
               <link>$doregex[makelist2]</link>
               <thumbnail>NA</thumbnail>
      ]]></listrepeat>
      <expres>list-header"&gt;(.*?)&lt;\/div>(?s)(.*?)<\/ul</expres>
      <page>http://www.zoptv.com/channels/sports</page>
</regex>

<regex>
      <name>makelist2</name>
      <listrepeat><![CDATA[
               <title>[COLOR green] [makelist2.param2][/COLOR]</title>
               <link>$doregex[makelist3]</link>
               <thumbnail>NA</thumbnail>
      ]]></listrepeat>
      <expres>href="\/(.*?)"&gt;(.*?)&lt;\/</expres>
      <page>[makelist.param2]</page>
</regex>

<regex>
      <name>makelist3</name>
      <listrepeat><![CDATA[
               <title>[COLOR yellow] [makelist3.param3][/COLOR]</title>
               <link>$doregex[get-url]/$doregex[get-m3u8]|User-Agent=iPhone</link>
               <link>$doregex[get-url]/$doregex[get-m3u8-2]|User-Agent=iPhone</link>
               <link>$doregex[embedurl1]/$doregex[m3u8]|User-Agent=iPhone</link>
               <link>$doregex[get-http]|User-Agent=iPhone</link>
               <thumbnail>http://www.zoptv.com[makelist3.param2]</thumbnail>
      ]]></listrepeat>
      <expres>"zp-channel" href="(.*?)".*?src="(.*?)"..*?&gt;(.*?)..span.</expres>
      <page>http://www.zoptv.com/[makelist2.param1]</page>
</regex>

<regex>
           <name>m3u8</name>
           <expres>var src = '(.*?)'</expres>
           <page>$doregex[embedurl]</page>
           <referer>http://www.zoptv.com/</referer>
</regex>
<regex>
           <name>embedurl1</name>
           <expres>"src":"(.*?)\/embed</expres>
           <page>$doregex[decpage]</page>
</regex>
<regex>
           <name>get-m3u8-2</name>
           <expres>var src = '\/(.*?)'</expres>
           <page>$doregex[embedurl2]</page>
           <referer>http://www.zoptv.com/</referer>
</regex>
<regex>
           <name>get-url</name>
           <expres>src":"(.*?\...)\/</expres>
           <page>$doregex[decpage]</page>
</regex>
<regex>
           <name>embedurl2</name>
           <expres>iframe"[\W\w\s]+"src":"(.*?)"</expres>
           <page>$doregex[decpage]</page>
</regex>
<regex>
           <name>embedurl</name>
           <expres>"src":"(.*?)".+</expres>
           <page>$doregex[decpage]</page>
</regex>
<regex>
<name>decpage</name>
<expres><![CDATA[#$pyFunction
import urllib,re,base64
def GetLSProData(page_data,Cookie_Jar,m):
    import base64
    s=page_data
    while '(atob(' in s:
        s=re.compile('\'(.*?)\'').findall(s)[0];
        s=base64.b64decode(s);
    return s
]]></expres>
<page>$doregex[encpage]</page>
</regex>
<regex>
           <name>encpage</name>
           <expres>(.atob.*)</expres>
           <page>http://www.zoptv.com/live/[makelist3.param1]</page>
</regex>
</item>
<!----------------------------------------------END-->
<!-------------twoguns regex------------------->
<item>
<title> All Channels | www.zoptv.com</title>
<link>$doregex[makelist]</link>
<regex>
      <name>makelist</name>
      <listrepeat><![CDATA[
               <title>[makelist.param1]</title>
               <link>$doregex[makelist2]</link>
               <thumbnail>http://www.zoptv.com/images/logo.png</thumbnail>
      ]]></listrepeat>
      <expres>list-header"&gt;(.*?)&lt;\/div>(?s)(.*?)<\/ul</expres>
      <page>http://www.zoptv.com/channels/sports</page>
</regex>
<regex>
      <name>makelist2</name>
      <listrepeat><![CDATA[
               <title>[makelist2.param2]</title>
               <link>$doregex[makelist3]</link>
               <thumbnail>http://www.zoptv.com/images/logo.png</thumbnail>
      ]]></listrepeat>
      <expres>href="\/(.*?)"&gt;(.*?)&lt;\/</expres>
      <page>[makelist.param2]</page>
</regex>
<regex>
      <name>makelist3</name>
      <listrepeat><![CDATA[
               <title>[makelist3.param3]</title>
               <link>$doregex[rtmp1]$doregex[http1]$doregex[path]|User-Agent=iPhone</link>
               <link>$doregex[rtmp2]$doregex[http2]$doregex[path1]|User-Agent=iPhone</link>
               <thumbnail>http://www.zoptv.com[makelist3.param2]</thumbnail>
               <fanart>http://www.zoptv.com[makelist3.param2]</fanart>
      ]]></listrepeat>
      <expres>"zp-channel" href="(.*?)".*?src="(.*?)"..*?&gt;(.*?)..span.</expres>
      <page>http://www.zoptv.com/[makelist2.param1]</page>
</regex>
<regex>
<name>replace</name>
<expres>$pyFunction:'$doregex[decpage]'.replace('src','vid',2).replace('/sl/','').replace('/ds/','').replace('/le/','').replace('/ls/','').replace('http://www.iptvlinks.tk/fo','/xx/').replace('http://www.iptvlinks.tk/aj','/xx/').replace('http://www.iptvlinks.tk/eo','/xx/').replace('http://www.iptvlinks.tk/kl','/xx/')</expres>
<page></page>
<regex>
<name>replace1</name>
<expres>$pyFunction:'$doregex[decpage]'.replace('src','vid',2)</expres>
<page></page>
</regex>
</regex>
<regex>
<name>http1</name>
<expres>=.."vid":"(.{11}iptv.*?)embed</expres>
<page>$doregex[replace]</page>
</regex>
<regex>
<name>http2</name>
<expres>}.{"vid":"(.{11}iptv.*?)embed</expres>
<page>$doregex[replace]</page>
</regex>
<regex>
<name>rtmp1</name>
<expres>=.."vid":"(.*?)",.*?(?=hls|rtmp).*vid</expres>
<page>$doregex[replace1]</page>
</regex>
<regex>
<name>rtmp2</name>
<expres>}.{"vid":"(.*?)".".*?:"(?=hls|rtmp)</expres>
<page>$doregex[replace1]</page>
</regex>
<regex>
<name>path</name>
<expres>var src = '(.*?)'</expres>
<page>$doregex[embedurl]</page>
<referer>http://www.zoptv.com/</referer>
</regex>
<regex>
<name>path1</name>
<expres>var src = '(.*?)'</expres>
<page>$doregex[embedurl1]</page>
<referer>http://www.zoptv.com/</referer>
</regex>
<regex>
<name>embedurl</name>
<expres>=.{"vid":"(.*?)"</expres>
<page>$doregex[replace1]</page>
</regex>
<regex>
<name>embedurl1</name>
<expres>}.{"vid":"(.*?)"</expres>
<page>$doregex[replace1]</page>
</regex>
<regex>
<name>decpage</name>
<expres><![CDATA[#$pyFunction
import urllib,re,base64
def GetLSProData(page_data,Cookie_Jar,m):
    import base64
    s=page_data
    while '(atob(' in s:
        s=re.compile('\'(.*?)\'').findall(s)[0];
        s=base64.b64decode(s);
    return s
]]></expres>
<page>$doregex[encpage]</page>
</regex>
<regex>
<name>encpage</name>
<expres>(.atob.*)</expres>
<page>http://www.zoptv.com[makelist3.param1]</page>
</regex>
</item>
<!------------------------------------------------------->

<!--------------------SKY SPORTS----------------------------------->
<item>
<title>ORIGINAL | streamlive.to if / else | @Shani_08</title>
<link>$doregex[select_Url]</link>
<regex>
<name>select_Url</name>
<expres>$pyFunction: '$doregex[get_HD]' if not '$doregex[get_HD]'=='' else '$doregex[get_SD]'</expres>
<page></page>
</regex><regex>
<name>get_HD</name>
<expres>$pyFunction:vipracing.decrypt_vipracing('http://www.streamlive.to/view/71560',False,False)</expres>
<page></page>
</regex>
<regex><name>get_SD</name>
<expres>$pyFunction:vipracing.decrypt_vipracing('http://www.streamlive.to/view/73269',False,False)</expres>
<page></page>
</regex>
</item>
<!------------------------------------------------------->

<!------------------------------------------------------->

<item>
<title> Movies | Test</title>
<link>$doregex[makelist]</link>
<regex>
<name>makelist</name>
<listrepeat><![CDATA[
<title>[COLOR deepskyblue]BES-IPTV: -[/COLOR] [makelist.param3]</title>
<link>$doregex[canal]</link>
<thumbnail>http:[makelist.param1]</thumbnail>
<regex>
	<name>canal</name>
	<expres>$pyFunction:vipracing.decrypt_vipracing('http://www.streamlive.to/view/[makelist.param2]',False,False)</expres>
	<page></page>
</regex>

]]></listrepeat>
<expres>src="(.*?)".*?\n.*?\n.*?\n.*?href="http://www.streamlive.to/view/(.*?)/.*?strong&gt;(.*?)&gt;</expres>
<page>http://www.streamlive.to/index.php?cat=Live%20Sport</page>
<agent>Mozilla/5.0 (iPhone; U; CPU iPhone OS 4_2_1 like Mac OS X; en-us) AppleWebKit/533.17.9 (KHTML, like Gecko) Version/5.0.2 Mobile/8C148 Safari/6533.18.5</agent>
<referer></referer>
<cookieJar></cookieJar>
</regex>
</item>
<!-------------------------------TEST--->

